<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Booking</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js'></script>
</head>
<body>
    <div class="logoff-box">
        <a href="{{ url_for('logoff') }}" class="logoff-button">Logoff</a>
    </div>
    <div class="container">
        <h1>Book a Desk</h1>
        <div id="desks" class="desk-grid"></div>
        <div id="calendar"></div>
        <div class="calendar-legend">
            <div class="legend-item">
                <div class="color-box reserved"></div>
                <span>Reserved</span>
            </div>
            <div class="legend-item">
                <div class="color-box partial"></div>
                <span>Partially Reserved</span>
            </div>
            <div class="legend-item">
                <div class="color-box available"></div>
                <span>Available</span>
            </div>
            <div class="legend-item">
                <div class="color-box selected"></div>
                <span>Selected</span>
            </div>
        </div>
        <form id="reserveForm" style="display: none;">
            <h2>Reserve Desk for <span id="selected_date"></span></h2>
            <div class="form-group">
                <label for="start_time">Start Time:</label>
                <select id="start_time" name="start_time" required></select>
            </div>
            <div class="form-group">
                <label for="end_time">End Time:</label>
                <select id="end_time" name="end_time" required></select>
            </div>
            <input type="hidden" id="desk_id" name="desk_id" required>
            <input type="hidden" id="date" name="date" required>
            <button type="submit">Reserve Desk</button>
        </form>
        <div class="error-message"><p id="error-message"></p></div>
        <a href="{{ url_for('user_reservations') }}" class="button">View and Unreserve Desks</a>
        <div id="qr_code"></div>
        <div id="reservation_list" class="reservation-list"></div>
    </div>
    <script src="{{ url_for('static', filename='js/booking.js') }}"></script>
</body>
</html>
